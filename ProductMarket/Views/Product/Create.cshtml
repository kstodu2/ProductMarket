@using ProductMarket.Data.Enum
@using ProductMarket.ViewModels
@model CreateProductViewModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="row justify-content-center">
    <div class="col-md-6">

        <form method="post" asp-action="Create" enctype="multipart/form-data">
            <input type="hidden" id="AppUserId" name="AppUserId" asp-for="AppUserId" />
            <div class="form-group">
                <label asp-for="ProductName">Product Name</label>
                <input asp-for="ProductName" class="form-control" placeholder="Enter product name">
                <span asp-validation-for="ProductName" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="ProductPrice">Product Price</label>
                <input asp-for="ProductPrice" class="form-control" placeholder="Enter product price" type="number" step="0.01" oninput="validateDecimalPlaces(this, 2)">
                <span asp-validation-for="ProductPrice" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="ProductDescription">Product Description</label>
                <input asp-for="ProductDescription" class="form-control" placeholder="Enter product description">
                <span asp-validation-for="ProductDescription" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Image">Product Image</label>
                <input asp-for="Image" type="file" class="form-control" placeholder="Upload Image">
                <span asp-validation-for="Image" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="ProductCategory">ProductCategory</label>
                <select asp-for="ProductCategory" asp-items="@Html.GetEnumSelectList<ProductCategory>()" class="form-control form-control-lg">
                    <option value="">--Select--</option>
                </select>
                <span asp-validation-for="ProductCategory" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Address.Street">Street Address</label>
                <input asp-for="Address.Street" class="form-control" placeholder="Street - will not be displayed">
                <span asp-validation-for="Address.Street" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Address.City">City</label>
                <input asp-for="Address.City" class="form-control" placeholder="City">
                <span asp-validation-for="Address.City" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Address.PostalCode">Zip Code</label>
                <input asp-for="Address.PostalCode" class="form-control" placeholder="PostalCode">
                <span asp-validation-for="Address.PostalCode" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Address.State">State</label>
                <input asp-for="Address.State" class="form-control" placeholder="State">
                <span asp-validation-for="Address.State" class="text-danger"></span>
            </div>


            <button type="submit" class="btn btn-primary">Submit</button>

            <script>
                function validateDecimalPlaces(input, decimalPlaces) {
                    const regex = new RegExp(`^[0-9]+(.[0-9]{1,${decimalPlaces}})?$`);
                    if (!regex.test(input.value)) {
                        input.setCustomValidity(`Please enter a valid number with up to ${decimalPlaces} decimal places.`);
                    } else {
                        input.setCustomValidity('');
                    }
                }
            </script>
            <style>
                select.form-control-lg option {
                    font-size: 12px;
                }
            </style>



        </form>
